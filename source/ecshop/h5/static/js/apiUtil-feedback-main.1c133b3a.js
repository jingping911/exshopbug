(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["apiUtil-feedback-main"],{"1a3c0":function(t,e,n){"use strict";n.r(e);var a=n("2d92"),i=n("fa36");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("b16f");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"9b7208f2",null,!1,a["a"],r);e["default"]=c.exports},"2d92":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("cu-custom",{attrs:{bgColor:"bg-white",isBack:!0}},[n("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),n("template",{attrs:{slot:"content"},slot:"content"},[t._v("意见反馈")])],2),n("div",{staticClass:"feedback"},[n("div",{staticClass:"connect"},[n("v-uni-label",{attrs:{for:""}},[t._v("标题:")]),n("v-uni-input",{attrs:{type:"text",name:"title",placeholder:"标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("div",{staticClass:"title"},[t._v("意见与反馈：")]),n("div",{staticClass:"cont"},[n("v-uni-textarea",{staticClass:"text",attrs:{max:"140",name:"",placeholder:"请填写你的意见和反馈"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("span",[t._v(t._s(t.content.length)+"/140")])],1),n("div",{staticClass:"connect"},[n("v-uni-label",{attrs:{for:""}},[t._v("联系方式:")]),n("v-uni-input",{attrs:{type:"text",name:"phone",placeholder:"邮箱/手机号/微信号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-input",{attrs:{type:"text",name:"verCode",placeholder:"验证码输入"},model:{value:t.verCode,callback:function(e){t.verCode=e},expression:"verCode"}}),n("v-uni-view",{staticClass:"register"},[n("v-uni-view",{staticClass:"canvas-img-code",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.refresh()}}},[n("v-uni-canvas",{style:{width:t.width+"px",height:t.height+"px"},attrs:{"canvas-id":"imgcanvas"},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.canvasIdErrorCallback.apply(void 0,arguments)}}})],1)],1),n("div",{staticClass:"bottom",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitMes.apply(void 0,arguments)}}},[t._v("提交")])],1)],1)},o=[]},"337a":function(t,e,n){"use strict";(function(t){var a=n("4ea4");n("cb29"),n("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=a(n("1da1")),o=n("ffcc"),r=n("b3d2"),s={onShow:function(){(0,r.toLogin)(),this.userInfo=(0,r.getStorageUserInfo)();var t=this;setTimeout((function(){t.init()}),1e3)},onLoad:function(){},data:function(){return{userInfo:{},content:"",title:"",phone:"",verCode:"",width:120,height:45}},components:{},methods:{submitMes:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e,i=/[\u4E00-\u9FA5]/g,0!=a.content.length&&0!=a.phone.length&&0!=e.title.length){n.next=5;break}return uni.showToast({title:"请全部填写后提交~",icon:"none",duration:2e3,mask:!0,success:function(t){}}),n.abrupt("return");case 5:if(!(a.phone.length>=40)){n.next=8;break}return uni.showToast({title:"联系方式输入不能超过40位数",icon:"none",duration:2e3,mask:!0,success:function(t){}}),n.abrupt("return");case 8:if(!i.test(a.phone)){n.next=11;break}return uni.showToast({title:"联系方式不能输入中文",icon:"none",duration:2e3,mask:!0,success:function(t){}}),n.abrupt("return");case 11:return n.next=13,(0,o.feedbackSubmitActionApi)({name:e.userInfo.nickName,content:e.content,title:e.title,verCode:e.verCode,phone:e.phone});case 13:r=n.sent,t.log(r.data),r.data?uni.showToast({title:"提交成功",icon:"none",duration:2e3,mask:!0,success:function(t){a.title="",a.content="",a.phone="",a.verCode="",a.init()}}):uni.showToast({title:"验证码错误",icon:"none",duration:2e3,mask:!0,success:function(t){setTimeout((function(){a.init()}),1e3)}});case 16:case"end":return n.stop()}}),n)})))()},init:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n,a,i,r,s,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=uni.createCanvasContext("imgcanvas",t),a=t.width,i=t.height,n.setFillStyle("white"),n.setLineWidth(5),n.fillRect(0,0,a,i),e.next=6,(0,o.chartCodeApi)({});case 6:for(r=e.sent,t.str=r.data.res,s=0;s<1;s++)c=t.str,u=t.rn(-30,30),n.setFontSize(18),n.setTextBaseline("top"),n.setFillStyle(t.rc(80,150)),n.save(),n.translate(30*s+15,parseInt(i/1.5)),n.rotate(u*Math.PI/180),n.fillText(c,-10,-15),n.restore();for(uni.setStorage({key:"imgcode",data:t.str}),s=0;s<40;s++)n.beginPath(),n.arc(t.rn(0,a),t.rn(0,i),1,0,2*Math.PI),n.closePath(),n.setFillStyle(t.rc(150,200)),n.fill();n.draw();case 12:case"end":return e.stop()}}),e)})))()},rc:function(t,e){var n=this.rn(t,e),a=this.rn(t,e),i=this.rn(t,e);return"rgb("+n+","+a+","+i+")"},rn:function(t,e){return parseInt(Math.random()*(t-e))+e},refresh:function(){this.init()},canvasIdErrorCallback:function(e){t.error(e.detail.errMsg)}},computed:{}};e.default=s}).call(this,n("5a52")["default"])},b16f:function(t,e,n){"use strict";var a=n("b365"),i=n.n(a);i.a},b365:function(t,e,n){var a=n("e1f1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("1a29780b",a,!0,{sourceMap:!1,shadowMode:!1})},cb29:function(t,e,n){var a=n("23e7"),i=n("81d5"),o=n("44d2");a({target:"Array",proto:!0},{fill:i}),o("fill")},e1f1:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.feedback[data-v-9b7208f2]{height:100vh;background:#fff;padding:0 %?20?%}.feedback .title[data-v-9b7208f2]{padding:%?20?% 0;border-bottom:%?1?% solid #d9d9d9}.feedback .cont[data-v-9b7208f2]{position:relative;border-bottom:%?1?% solid #d9d9d9}.feedback .cont .text[data-v-9b7208f2]{height:%?300?%;padding:%?20?%}.feedback .cont span[data-v-9b7208f2]{position:absolute;right:%?20?%;bottom:%?20?%}.feedback .connect[data-v-9b7208f2]{height:%?100?%;line-height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;border-bottom:%?1?% solid #d9d9d9}.feedback .connect uni-label[data-v-9b7208f2]{width:%?150?%;height:100%;display:inline-block}.feedback .connect uni-input[data-v-9b7208f2]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:inline-block;height:100%}.feedback .bottom[data-v-9b7208f2]{text-align:center;width:95%;height:%?100?%;border-radius:%?10?%;line-height:%?100?%;background:#b4282d;color:#fff;font-size:%?32?%;margin:%?100?% auto 0 auto}',""]),t.exports=e},fa36:function(t,e,n){"use strict";n.r(e);var a=n("337a"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a}}]);